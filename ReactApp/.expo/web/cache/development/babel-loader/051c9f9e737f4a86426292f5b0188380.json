{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/Users/bartoszwlodarski/ReactApp/ReactApp/App.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\n\nvar App = function (_Component) {\n  _inherits(App, _Component);\n\n  var _super = _createSuper(App);\n\n  function App() {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      endgame: false,\n      move: \"O\",\n      board: new Array(9),\n      result: \"\"\n    };\n    _this.WinConditions = [[0, 1, 2], [3, 4, 5], [6, 7, 8], [0, 3, 6], [1, 4, 7], [2, 5, 8], [0, 4, 8], [2, 4, 6]];\n    _this.tmpBoard = new Array(9);\n\n    _this.makeMove = function (pos) {\n      var board = _toConsumableArray(_this.state.board);\n\n      board[pos] = _this.state.move;\n\n      _this.setState({\n        board: board\n      }, function () {});\n    };\n\n    _this.isWinner = function (board, move) {\n      for (var i = 0; i < 8; i++) {\n        var allConds = true;\n\n        for (var j = 0; j < 3; j++) {\n          var p = _this.WinConditions[i * 3 + j];\n\n          if (board[p] !== move) {\n            allConds = false;\n            break;\n          }\n        }\n\n        alert(_this.WinConditions);\n        if (allConds) return true;\n      }\n\n      return false;\n    };\n\n    _this.isDraw = function (board) {\n      for (var i = 0; i < board.length; i++) {\n        if (!board[i]) return false;\n      }\n\n      return true;\n    };\n\n    _this.isEndGame = function (board, move) {\n      if (_this.isWinner(board, move)) {\n        _this.setState({\n          endgame: true\n        });\n\n        if (_this.state.move == \"O\") _this.setState({\n          result: \"You win!\"\n        });else _this.setState({\n          result: \"You lost!\"\n        });\n      } else if (_this.isDraw(board)) _this.setState({\n        endgame: true,\n        result: \"You draw!\"\n      });else return false;\n\n      return true;\n    };\n\n    _this.botMove = function () {\n      var legalMoves = Array();\n      var loseThreads = Array();\n\n      for (var i = 0; i < 9; i++) {\n        if (!_this.state.board[i]) {\n          var _board = _toConsumableArray(_this.state.board);\n\n          _board[i] = _this.state.move;\n\n          if (_this.isEndGame(_board, \"X\")) {\n            var _board2 = _toConsumableArray(_this.state.board);\n\n            _board2[i] = \"X\";\n\n            _this.setState({\n              board: _board2\n            }, function () {\n              _this.isEndGame(_this.state.board);\n            });\n\n            return;\n          }\n\n          legalMoves.push(i);\n        }\n      }\n\n      var move = legalMoves[Math.floor(Math.random() * legalMoves.length)];\n\n      var board = _toConsumableArray(_this.state.board);\n\n      board[move] = \"X\";\n\n      _this.setState({\n        board: board,\n        move: \"O\"\n      }, function () {\n        _this.isEndGame(_this.state.board);\n      });\n    };\n\n    _this.onPress = function (pos) {\n      if (!_this.state.endgame && !_this.state.board[pos] && _this.state.move == \"O\") {\n        var board = _toConsumableArray(_this.state.board);\n\n        board[pos] = \"O\";\n\n        _this.setState({\n          board: board\n        }, function () {\n          if (_this.isEndGame(_this.state.board, \"O\")) {\n            return;\n          }\n\n          _this.setState({\n            move: \"X\"\n          }, function () {\n            _this.botMove();\n          });\n        });\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"renderMessage\",\n    value: function renderMessage() {\n      if (this.state.endgame) return React.createElement(Text, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 15\n        }\n      }, this.state.result);else {\n        return React.createElement(Text, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 14\n          }\n        }, \"Move: \", this.state.move);\n      }\n      return null;\n    }\n  }, {\n    key: \"renderBoard\",\n    value: function renderBoard() {\n      var _this2 = this;\n\n      var boxes = [];\n\n      var _loop = function _loop(i) {\n        boxes.push(React.createElement(TouchableOpacity, {\n          style: styles.box,\n          onPress: function onPress() {\n            return _this2.onPress(i);\n          },\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 7\n          }\n        }, React.createElement(Text, {\n          style: styles.box_text,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 9\n          }\n        }, _this2.state.board[i])));\n      };\n\n      for (var i = 0; i < 9; i++) {\n        _loop(i);\n      }\n\n      return React.createElement(View, {\n        style: styles.game_board,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 12\n        }\n      }, boxes);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(View, {\n        style: styles.container,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 7\n        }\n      }, React.createElement(View, {\n        style: styles.title,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 9\n        }\n      }, React.createElement(Text, {\n        style: styles.title_text,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }\n      }, \"TicTacToe\")), React.createElement(View, {\n        style: styles.message,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 9\n        }\n      }, this.renderMessage()), this.renderBoard());\n    }\n  }]);\n\n  return App;\n}(Component);\n\nvar styles = StyleSheet.create({\n  container: {\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  title: {\n    marginTop: 10,\n    paddingTop: 50,\n    height: 100\n  },\n  title_text: {\n    fontSize: 50,\n    fontWeight: \"700\"\n  },\n  game_board: {\n    flexWrap: \"wrap\",\n    flexDirection: \"row\",\n    backgroundColor: \"aliceblue\",\n    maxHeight: 360,\n    marginTop: 100,\n    maxWidth: 360,\n    alignContent: 'center',\n    borderRadius: 10\n  },\n  box: {\n    width: 120,\n    height: 120,\n    backgroundColor: \"deepskyblue\",\n    borderRadius: 10,\n    borderWidth: 1,\n    borderColor: 'white'\n  },\n  box_text: {\n    color: \"white\",\n    fontSize: 120,\n    fontWeight: \"700\",\n    textAlign: \"center\"\n  }\n});\nexport default App;","map":{"version":3,"sources":["/Users/bartoszwlodarski/ReactApp/ReactApp/App.js"],"names":["React","Component","App","state","endgame","move","board","Array","result","WinConditions","tmpBoard","makeMove","pos","setState","isWinner","i","allConds","j","p","alert","isDraw","length","isEndGame","botMove","legalMoves","loseThreads","push","Math","floor","random","onPress","boxes","styles","box","box_text","game_board","container","title","title_text","message","renderMessage","renderBoard","StyleSheet","create","justifyContent","alignItems","marginTop","paddingTop","height","fontSize","fontWeight","flexWrap","flexDirection","backgroundColor","maxHeight","maxWidth","alignContent","borderRadius","width","borderWidth","borderColor","color","textAlign"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport {\n  StyleSheet,\n  TouchableOpacity,\n  Text,\n  View,\n} from 'react-native'\n\n\nclass App extends Component {\n  state = {\n    endgame: false,\n    move: \"O\",\n    board: new Array(9),\n    result: \"\"\n  }\n\n  WinConditions = [\n    [0,1,2],\n    [3,4,5],\n    [6,7,8],\n    [0,3,6],\n    [1,4,7],\n    [2,5,8],\n    [0,4,8],\n    [2,4,6]\n  ];\n\n  tmpBoard = new Array(9);\n\n  makeMove = (pos) => {\n    const board = [...this.state.board];\n      board[pos] = this.state.move;\n      this.setState({board: board}, () => {});\n  }\n\n  isWinner = (board, move) => {\n    for(let i=0; i<8; i++)\n    {\n      let allConds = true;\n      for (let j=0; j<3; j++)\n      {\n        let p = this.WinConditions[i*3+j]\n        if(board[p] !== move)\n        {\n          allConds = false;\n          break;\n        }\n      }\n      alert(this.WinConditions);\n      if (allConds) return true\n    }\n    \n    return false;\n\n  }\n\n  isDraw = (board) => {\n    for(let i=0; i<board.length; i++)\n    {\n      if (!board[i]) return false;\n    }\n    return true;\n\n  }\n\n  isEndGame = (board, move) => {\n    if (this.isWinner(board, move))\n    {\n      this.setState({endgame: true});\n      if (this.state.move == \"O\") this.setState({result: \"You win!\"});\n      else this.setState({result: \"You lost!\"});\n    }\n    else if (this.isDraw(board)) this.setState({endgame: true, result: \"You draw!\"});\n    else return false;\n    return true;\n  }\n\n  botMove = () => {\n    let legalMoves = Array();\n    let loseThreads = Array();\n    for (let i=0; i<9; i++)\n    {\n      if (!this.state.board[i])\n      {\n        const board = [...this.state.board]\n        board[i] = this.state.move;\n        if (this.isEndGame(board, \"X\"))\n        {\n          const board = [...this.state.board];\n          board[i] = \"X\";\n          this.setState({board: board}, () => {this.isEndGame(this.state.board)});\n          return;\n        }\n        legalMoves.push(i);\n\n      }\n    }\n    let move = legalMoves[Math.floor(Math.random()*legalMoves.length)];\n    const board = [...this.state.board];\n    board[move] = \"X\";\n    this.setState({board: board, move: \"O\"}, () => {this.isEndGame(this.state.board)});\n\n  }\n\n  onPress = (pos) => {\n    if(!this.state.endgame && !this.state.board[pos] && this.state.move == \"O\")\n    {\n      const board = [...this.state.board];\n      board[pos] = \"O\";\n      this.setState({board: board}, () => {\n        if (this.isEndGame(this.state.board, \"O\"))\n        {\n          return;\n        }\n        this.setState({move: \"X\"}, () =>\n        {\n          this.botMove();\n          // this.isEndGame(this.state.board);\n        });\n        \n      });\n      \n\n    }\n  }\n\n  renderMessage(){\n    if(this.state.endgame)\n       return <Text>{this.state.result}</Text>;\n    else\n    {\n      return <Text>Move: {this.state.move}</Text>\n    }\n    return null;\n }\n\n renderBoard(){\n    let boxes = []\n    for (let i=0; i<9; i++)\n    {\n      boxes.push(\n      <TouchableOpacity style={styles.box} onPress={() => this.onPress(i)}>\n        <Text style={styles.box_text}>{ this.state.board[i] }</Text>\n      </TouchableOpacity>\n      )\n    }\n    return <View style={styles.game_board}>{boxes}</View>\n }\n\n render() {\n    return (\n      <View style={styles.container}>\n        <View style={styles.title}>\n          <Text style={styles.title_text}>TicTacToe</Text>\n        </View>\n\n        <View style={styles.message}>\n          { this.renderMessage() }\n        </View>\n\n        {this.renderBoard()}\n\n      </View>\n      \n    )\n  }\n}\n\nconst styles = StyleSheet.create({\n  container:\n  {\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n\n  title:\n  {\n    marginTop: 10,\n    paddingTop: 50,\n    height: 100,\n  },\n\n  title_text:\n  {\n    fontSize: 50,\n    fontWeight: \"700\"\n  },\n\n  game_board: {\n    flexWrap: \"wrap\",\n    flexDirection: \"row\",\n    backgroundColor: \"aliceblue\",\n    maxHeight: 360,\n    marginTop: 100,\n    maxWidth: 360,\n    alignContent: 'center',\n    borderRadius: 10,\n    \n  },\n  box: {\n    width: 120,\n    height: 120,\n    backgroundColor: \"deepskyblue\",\n    borderRadius: 10,\n    borderWidth: 1,\n    borderColor: 'white',\n  },\n\n  box_text: {\n    color: \"white\",\n    fontSize: 120,\n    fontWeight: \"700\",\n    textAlign: \"center\",\n  }\n})\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}